/*
      mustache.js â€” Logic-less templates in JavaScript
      See http://mustache.github.com/ for more info.
*/
(function(window){var Mustache=function(){var Renderer=function(){};Renderer.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(template,context,partials,in_recursion){if(!in_recursion){this.context=context;this.buffer=[];}
if(!this.includes("",template)){if(in_recursion){return template;}else{this.send(template);return;}}
template=this.render_pragmas(template);var html=this.render_section(template,context,partials);if(in_recursion){return this.render_tags(html,context,partials,in_recursion);}
this.render_tags(html,context,partials,in_recursion);},send:function(line){if(line!=""){this.buffer.push(line);}},render_pragmas:function(template){if(!this.includes("%",template)){return template;}
var that=this;var regex=new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+
this.ctag);return template.replace(regex,function(match,pragma,options){if(!that.pragmas_implemented[pragma]){throw({message:"This implementation of mustache doesn't understand the '"+
pragma+"' pragma"});}
that.pragmas[pragma]={};if(options){var opts=options.split("=");that.pragmas[pragma][opts[0]]=opts[1];}
return"";});},render_partial:function(name,context,partials){name=this.trim(name);if(!partials||partials[name]===undefined){throw({message:"unknown_partial '"+name+"'"});}
if(typeof(context[name])!="object"){return this.render(partials[name],context,partials,true);}
return this.render(partials[name],context[name],partials,true);},render_section:function(template,context,partials){if(!this.includes("#",template)&&!this.includes("^",template)){return template;}
var that=this;var regex=new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg");return template.replace(regex,function(match,type,name,content){var value=that.find(name,context);if(type=="^"){if(!value||(that.is_array(value)&&value.length===0)){return that.render(content,context,partials,true);}else{return"";}}else if(type=="#"){if(that.is_array(value)){return that.map(value,function(row){return that.render(content,that.create_context(row),partials,true);}).join("");}else if(that.is_object(value)){return that.render(content,that.create_context(value),partials,true);}else if(typeof value==="function"){return value.call(context,content,function(text){return that.render(text,context,partials,true);});}else if(value){return that.render(content,context,partials,true);}else{return"";}}});},render_tags:function(template,context,partials,in_recursion){var that=this;var new_regex=function(){return new RegExp(that.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+
that.ctag+"+","g");};var regex=new_regex();var tag_replace_callback=function(match,operator,name){switch(operator){case"!":return"";case"=":that.set_delimiters(name);regex=new_regex();return"";case">":return that.render_partial(name,context,partials);case"{":return that.find(name,context);default:return that.escape(that.find(name,context));}};var lines=template.split("\n");var i;for(i=0;i<lines.length;i++){lines[i]=lines[i].replace(regex,tag_replace_callback,this);if(!in_recursion){this.send(lines[i]);}}
if(in_recursion){return lines.join("\n");}},set_delimiters:function(delimiters){var dels=delimiters.split(" ");this.otag=this.escape_regex(dels[0]);this.ctag=this.escape_regex(dels[1]);},escape_regex:function(text){if(!arguments.callee.sRE){var specials=['/','.','*','+','?','|','(',')','[',']','{','}','\\'];arguments.callee.sRE=new RegExp('(\\'+specials.join('|\\')+')','g');}
return text.replace(arguments.callee.sRE,'\\$1');},find:function(name,context){name=this.trim(name);function is_kinda_truthy(bool){return bool===false||bool===0||bool;}
var value;if(is_kinda_truthy(context[name])){value=context[name];}else if(is_kinda_truthy(this.context[name])){value=this.context[name];}
if(typeof value==="function"){return value.apply(context);}
if(value!==undefined){return value;}
return"";},includes:function(needle,haystack){return haystack.indexOf(this.otag+needle)!=-1;},escape:function(s){s=String(s===null?"":s);return s.replace(/&(?!\w+;)|["'<>\\]/g,function(s){switch(s){case "&": return "&amp;";case "\\": return "\\\\";case '"': return '&quot;';case "'": return '&#39;';case "<": return "&lt;";case ">": return "&gt;";default: return s;}});},create_context:function(_context){if(this.is_object(_context)){return _context;}else{var iterator=".";if(this.pragmas["IMPLICIT-ITERATOR"]){iterator=this.pragmas["IMPLICIT-ITERATOR"].iterator;}
var ctx={};ctx[iterator]=_context;return ctx;}},is_object:function(a){return a&&typeof a=="object";},is_array:function(a){return Object.prototype.toString.call(a)==='[object Array]';},trim:function(s){return s.replace(/^\s*|\s*$/g,"");},map:function(array,fn){if(typeof array.map=="function"){return array.map(fn);}else{var r=[],l=array.length,i;for(i=0;i<l;i++){r.push(fn(array[i]));}
return r;}}};return({name:"mustache.js",version:"0.3.1-dev",to_html:function(template,view,partials,send_fun){var renderer=new Renderer();if(send_fun){renderer.send=send_fun;}
renderer.render(template,view,partials);if(!send_fun){return renderer.buffer.join("\n");}}});}();window['PhotoMosaic']={};window['PhotoMosaic'].Mustache=Mustache;})(window);

/*
    jQuery photoMosaic v1.7.4
    requires jQuery 1.5+ & Mustache (included above)
*/
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(p($){m(1U F==="1V"){F={J:p(a){F.1W.C(a)},1W:[]}}r l=p(){};$.1X(l.2P,{1Y:p(b,c,i){r d={K:\'1b\',x:\'U\',G:2,o:3,q:\'1c\',9:\'1c\',1d:O,1z:V,1e:V,1f:V,1Z:V,20:2Q,21:V,1g:1A,22:O,1B:1A};6.7=$.1X({},d,c);6.L=$(b);6.M=(23.2R(24 23())+y.2S(y.1e()*2T));6.13=\'25\'+6.M;6.8=[];6.o=[];6.26=\' \'+\'<P M="27\'+6.M+\'" 1h="W">\'+\'{{#o}}\'+\'<28 1C="2U:29; 2a:0 {{^X}}{{G}}Q 0 0{{/X}}">\'+\'{{#8}}\'+\'<2b 1C="q:{{#q}}{{D}}{{/q}}Q; 9:{{#9}}{{D}}{{/9}}Q; 2a:0 {{^X}}0 {{G}}Q 0{{/X}}">\'+\'{{#R}}<a 2c="{{14}}" {{#1i}}2V="2W"{{/1i}} {{#15}}2X="{{15}}"{{/15}} {{#N}}1j="{{N}}"{{/N}}>{{/R}}\'+\'<S z="{{z}}" 1C="\'+\'q:{{#q}}{{s}}{{/q}}Q; \'+\'9:{{#9}}{{s}}{{/9}}Q; \'+\'{{#1k}}{{1D}}:-{{1E}}Q;{{/1k}}" \'+\'1j="{{N}}"/>\'+\'{{#R}}</a>{{/R}}\'+\'</2b>\'+\'{{/8}}\'+\'</28>\'+\'{{/o}}\'+\'</P>\';6.2d=\' \'+\'<P M="27\'+6.M+\'" 1h="W">\'+\'<P 1h="2Y">2Z x...</P>\'+\'</P>\';m(6.7.q===\'1c\'){6.7.q=6.L.q()}m(6.7.K===\'1F\'&&6.7.x===\'\'){F.J("I: T: 1l 1G 2e 14 1H.");u}m(6.7.K===\'1F\'&&6.7.x===\'U\'){F.J(\'I: T: 1l 1G 2e 14 1H.\');u}m(6.7.K===\'1b\'&&6.7.x===\'\'){F.J("I: T: 1l 2f 2g 30.");u}m(6.7.K===\'1b\'&&6.7.x===\'U\'){m(1U(U)!==\'1V\'){6.7.x=U}A{F.J(\'I: T: 1I 2f 2g "U" 31 32 2h 1J.\');u}}m(6.7.x.v-1<6.2i){F.J(\'I: T: "33" 34 a 0-Y (0 = 2j 35 2k).\'+\'1l 2k 1K 1J 36 2j 1H Y (\'+6.2i+\')\');u}r e=6;m(6.7.21){6.L.16(I.2l.2m(6.2d,{}))}m(6.7.K===\'16\'){6.7.x=6.2n();6.1m();$.1n(e.1o()).1L(p(){e.L.16(e.1p());e.1q()})}m(6.7.K===\'1F\'){$.37(6.7.x,p(a){m($(a).17(\'2o\').v>0){e.7.x=$(a).17(\'2o\');e.7.x=e.2p();e.1m();$.1n(e.1o()).1L(p(){e.L.16(e.1p());e.1q()})}A{F.J(\'I: T: 1I 1G 38 39\\\'t 2h 1J 3a 1K 3b.\');u}})}m(6.7.K===\'1b\'){6.1m();$.1n(6.1o()).1L(p(){e.L.16(e.1p());e.1q()})}},1p:p(){r c=6,$13=$(\'#\'+6.13),i,j;$.18(6.7.x,p(i){r a={},$S=$13.17(\'S[z="\'+6.z+\'"]\'),1r;a.z=6.z;a.q={};a.9={};a.G=c.7.G;a.N=6.N;a.q.Z=$S.q();a.9.Z=$S.9();a.q.s=c.2q;a.9.s=y.E((a.9.Z*a.q.s)/a.q.Z);m(c.7.1g){m(c.7.22){1r=c.7.1g+\'[\'+c.M+\']\'}A{1r=c.7.1g}a.15=1r}m(c.7.1d&&6.1s){a.R=O;a.14=6.1s;a.1i=c.7.1z;3c a.15}A m(c.7.1d){a.R=O;a.14=6.z;a.1i=c.7.1z}A{a.R=V}c.8.C(a)});6.8=6.2r(6.8);m(!6.7.1f){6.8.3d(p(a,b){m(c.7.1e){u(0.5-y.1e())}A{u(a.9.Z-b.9.Z)}});6.8.3e()}r d=[],1t=O;m(!6.7.1f){2s(6.8.v>0){m(1t){d.C(6.8.2t())}A{d.C(6.8.3f())}1t=!1t}6.8=d}r e=0;B(i=0;i<6.8.v;i++){m(e===6.7.o){e=0}m(!6.o[e]){6.o[e]=[]}6.o[e].C(6.8[i]);e++}m(6.7.1f){r f=[];B(i=0;i<6.o.v;i++){B(j=0;j<6.o[i].v;j++){m(!f[i]){f[i]=[]}f[i].C(6.8[0]);6.8.2t()}}6.o=f}r g={o:[]},1u=[];B(i=0;i<6.o.v;i++){r h=0;B(j=0;j<6.o[i].v;j++){h=h+6.o[i][j].9.s}h=h+(6.o[i].v-1)*6.7.G;1u.C(h);g.o[i]={};g.o[i].8=6.o[i];g.o[i].9=h;g.o[i].G=6.7.G}r k=6.2u(1u),2v=6.2w(1u),2x=y.E((k+2v)/2);m(6.7.9===\'1c\'){g=6.1M(g,2x)}A{g=6.1M(g,6.7.9)}u I.2l.2m(6.26,g)},1M:p(a,b){a=6.2y(a);B(i=0;i<a.o.v;i++){a=6.2z(a,i);m(a.o[i].9>b){a.o[i]=6.2A(a.o[i],b)}A{a.o[i]=6.2B(a.o[i],b)}}u a},1m:p(){r a=6.7.q,1N=6.7.20,2C=3g(6.7.x).v,10=0,1v={w:4,h:3},i=0;m(6.7.1Z){2s(10===0){m(2C<=((i+1v.w)*(i+1v.h))){10=i+1v.w}A{++i}}6.7.q=((10*1N)>=a)?a:10*1N;6.7.o=10}6.2D=(6.7.q-(6.7.G*(6.7.o-1)))%6.7.o;6.2q=((6.7.q-6.2D)-(6.7.G*(6.7.o-1)))/6.7.o},2A:p(a,b){r c=a.8.v,11=a.9-b,12=11%c,H=y.E(11/c),1w=H+12,2E=y.E(H/2),2F=y.E((H+12)/2),2G=6.2H(a.8),i;B(i=0;i<c;i++){m(i===2G.Y){a.8[i].9.D=a.8[i].9.s-1w}A{a.8[i].9.D=a.8[i].9.s-H}a.8[i].q.D=a.8[i].q.s;a.8[i].1k={1D:\'3h\',1E:y.E((a.8[i].9.s-a.8[i].9.D)/2)}}u a},2B:p(a,b){r c=a.8.v,11=b-a.9,12=11%c,H=y.E(11/c),1w=H+12,2E=y.E(H/2),2F=y.E((H+12)/2),2I=6.2J(a.8),i;B(i=0;i<c;i++){m(i===2I.Y){a.8[i].9.D=a.8[i].9.s+1w}A{a.8[i].9.D=a.8[i].9.s+H}a.8[i].q.D=a.8[i].q.s;a.8[i].q.s=y.E((a.8[i].q.s*a.8[i].9.D)/a.8[i].9.s);a.8[i].9.s=a.8[i].9.D;a.8[i].1k={1D:\'29\',1E:y.E((a.8[i].q.s-a.8[i].q.D)/2)}}u a},2u:p(a){r b=0,i;B(i=0;i<a.v;i++){m(b===0){b=a[i]}A m(a[i]<b){b=a[i]}}u b},2w:p(a){r b=0,i;B(i=0;i<a.v;i++){m(a[i]>b){b=a[i]}}u b},2J:p(a){r b=0,1O=0,i;B(i=0;i<a.v;i++){m(b===0){b=a[i].9.s}A m(a[i].9.s<b){b=a[i].9.s;1O=i}}u{9:b,Y:1O}},2H:p(a){r b=0,1P=0,i;B(i=0;i<a.v;i++){m(a[i].9.s>b){b=a[i].9.s;1P=i}}u{9:b,Y:1P}},2y:p(a){a.o[a.o.v-1].X=O;u a},2z:p(a,i){a.o[i].8[a.o[i].8.v-1].X=O;u a},2r:p(a){r b=[],i;$.18(a,p(i){m(3i(6.9.s)){b.C(i)}});B(i=b.v-1;i>=0;--i){F.J(\'I: T: 1I 3j 3k 3l 3m 2K 3n 1K 3o.\\n\'+a[b[i]].z);r c=a.3p(b[i]+1);a.v=b[i];a.C.1Q(a,c)};u a},1o:p(){r b=$.2L(),1R=[],$8=$(\'<P>\').19({\'M\':6.13,\'1h\':\'25\'});$.18(6.7.x,p(i){r a=$.2L(),$2M=$(\'<S>\').3q(a.1S).2K(a.1S).19({z:6.z});$8.2N($2M);1R.C(a)});$.1n.1Q(1A,1R).3r(b.1S,$(\'3s\').2N($8));u b.3t()},2n:p(){r a=[],$8=6.L.17(\'S\'),i;B(i=0;i<$8.v;i++){r b={};b.z=($8.1a(i).2O(\'a\').v>0&&6.7.1d)?$8.1a(i).2O(\'a\').19(\'2c\'):$8.1a(i).19(\'z\');b.N=$8.1a(i).19(\'1j\');a.C(b)}u a},2p:p(){r b=[];6.7.x.17(\'3u\').18(p(i){r a={},1x=$(6);a.N=1x.1y(\'1j\').1T();a.z=1x.1y(\'z\').1T();a.1s=1x.1y(\'1s\').1T();b.C(a)});u b},1q:p(){r a=6.L.1y().1a(0)[0];m($.3v(6.7.1B)){6.7.1B.1Q(6,[a])}}});$.3w.W=p(a){6.18(p(i){m(!6.W){6.W=24 l();6.W.1Y(6,a,i)}});u 6}})(3x);',62,220,'||||||this|opts|images|height|||||||||||||if||columns|function|width|var|adjusted||return|length||gallery|Math|src|else|for|push|constraint|floor|console|padding|divy|PhotoMosaic|log|input|obj|id|caption|true|div|px|link|img|ERROR|PMalbum|false|photoMosaic|last|index|original|cols|diff|mod|preload|path|modal|html|find|each|attr|eq|json|auto|links|random|force_order|modal_name|class|external|title|adjustment|No|autoCols|when|preloadify|makeMosaic|modalCallback|modal_text|url|bool|col_heights|ratio|divy_mod|data|children|external_links|null|modal_ready_callback|style|type|value|xml|XML|specified|The|found|was|then|adjustHeights|ideal_width|index_of_smallest|index_of_largest|apply|promises|resolve|text|typeof|undefined|errors|extend|init|auto_columns|ideal_column_width|show_loading|modal_group|Date|new|PM_preloadify|template|photoMosaic_|ol|left|margin|li|href|loading_template|file|JSON|object|be|current_album|the|album|Mustache|to_html|constructGalleryFromHTML|photos|constructGalleryFromXML|col_width|errorCheck|while|shift|getSmallest|tallest_col|getBiggest|average_col_height|markLastColumn|markLastImageInColumn|scaleColumnDown|scaleColumnUp|num_images|col_mod|offset|offset_mod|largest_image|findLargestImage|smallest_image|findSmallestImage|load|Deferred|item|append|parent|prototype|100|parse|round|10000|float|target|_blank|rel|photoMosaicLoading|loading|defined|can|not|start_album|uses|first|at|get|either|couldn|or|malformed|delete|sort|reverse|pop|eval|top|isNaN|following|image|failed|to|and|skipped|slice|error|done|body|promise|photo|isFunction|fn|jQuery'.split('|'),0,{}))